<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Page</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="profile">Logged in as: {{ session.username }} | <a href="{{ url_for('logout') }}">Logout</a></div>
    <h1>Booking Page</h1>

    <!-- Flash Messages -->
    <div class="flash-messages">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <p class="flash-{{ category }}">{{ message }}</p>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>

    <!-- Booking Form -->
    <form action="{{ url_for('booking') }}" method="post">
        <label for="date">Select Date:</label>
        <input type="date" id="date" name="date" required><br><br>

        <label for="time">Select Time:</label>
        <input type="time" id="time" name="time" min="08:00" max="20:00" required><br><br>

        <label for="tutor">Select Tutor:</label>
        <select id="tutor" name="tutor" required>
            {% for tutor in tutors %}
                <option value="{{ tutor.name }}" {% if not tutor.availability %}disabled{% endif %}>
                    {{ tutor.name }} ({{ "Available" if tutor.availability else "Unavailable" }})
                </option>
            {% endfor %}
        </select><br><br>

        <button type="submit">Book Slot</button>
    </form>
</body>
</html>